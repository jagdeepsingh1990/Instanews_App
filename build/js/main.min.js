var url="https://api.nytimes.com/svc/topstories/v2/home.json",data=[],sectionDataArray=[],uniqueValues=[];function addOptionsToList(a){$.each(a,function(a,t){$("#select_options").append($("<option/>",{value:t,text:t}))})}function addApi_key(a){return a+="?"+$.param({"api-key":"cec89a9c54f24354af812aedc5a43321"})}function addNewsToDiv(a,i){$.each(a,function(a,t){if(i===t.section){var e=t.abstract,o=t.url;if(0!==t.multimedia.length){var n=t.multimedia[4].url;$(".newsData").append('<div class= "newsDiv"><img src = "'+n+'"><a target = "_blank" href = "'+o+'" ><p>'+e+"</p></a></div>")}}})}function removeDups(a){var t={};return a.forEach(function(a){t[a]||(t[a]=!0)}),Object.keys(t)}$.ajax({url:addApi_key(url),method:"GET"}).done(function(a){data=a.results,console.log(data),sectionDataArray=data.map(function(a){return a.section}),addOptionsToList(uniqueValues=removeDups(sectionDataArray))}).fail(function(a){throw a}),$("#select_options").change(function(){var a=$("#select_options option:selected").text().replace(" ","");url="https://api.nytimes.com/svc/topstories/v2/"+a+".json",console.log(addApi_key(url)),$.ajax({url:addApi_key(url),method:"GET"}).done(function(a){data=a,console.log(data)}).fail(function(a){throw a}),addNewsToDiv(data,a)});